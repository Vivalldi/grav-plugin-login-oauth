name: Login OAuth
version: 0.1.0
description: Enables login with OAuth accounts such as Facebook
icon: sign-in
author:
  name: Team Grav
  email: devs@getgrav.org
  url: http://getgrav.org
keywords: login, oauth, social
homepage: https://github.com/getgrav/grav-plugin-login-oauth
bugs: https://github.com/getgrav/grav-plugin-login-oauth/issues
license: MIT

dependencies:
  - login

form:
  validation: loose
  fields:

    tabs:
      type: tabs
      active: 1

      fields:
        oauth:
          type: tab
          title: PLUGIN_LOGIN.OAUTH_SECTION

          fields:
            enabled:
              type: toggle
              label: PLUGIN_LOGIN.OAUTH_ENABLE
              highlight: 1
              default: 0
              options:
                1: PLUGIN_ADMIN.ENABLED
                0: PLUGIN_ADMIN.DISABLED
              validate:
                type: bool

            user.autocreate:
              type: toggle
              label: PLUGIN_LOGIN.OAUTH_USER_AUTOCREATE
              highlight: 0
              default: 0
              options:
                1: PLUGIN_ADMIN.ENABLED
                0: PLUGIN_ADMIN.DISABLED
              validate:
                type: bool

            user.access:
              type: array
              label: PLUGIN_LOGIN.OAUTH_ACCESS
              placeholder_key: signin.login
              placeholder_value: true
              
        providers:
          type: tab
          title: PLUGIN_LOGIN.OAUTH_PROVIDER_SECTION
          fields:
            providers.Facebook:
              type: section
              title: PLUGIN_LOGIN.FACEBOOK

              fields:
                providers.Facebook.enabled:
                  type: toggle
                  label: PLUGIN_LOGIN.OAUTH_PROVIDER_FACEBOOK
                  highlight: 1
                  default: 0
                  options:
                    1: PLUGIN_ADMIN.ENABLED
                    0: PLUGIN_ADMIN.DISABLED
                  validate:
                    type: bool

                providers.Facebook.credentials.key:
                  type: text
                  label: PLUGIN_LOGIN.OAUTH_CLIENT_ID
                  validate:
                    type: string

                providers.Facebook.credentials.secret:
                  type: text
                  label: PLUGIN_LOGIN.OAUTH_CLIENT_SECRET
                  validate:
                    type: string

            providers.Google:
              type: section
              title: PLUGIN_LOGIN.GOOGLE

              fields:
                providers.Google.enabled:
                  type: toggle
                  label: PLUGIN_LOGIN.OAUTH_PROVIDER_GOOGLE
                  highlight: 1
                  default: 0
                  options:
                    1: PLUGIN_ADMIN.ENABLED
                    0: PLUGIN_ADMIN.DISABLED
                  validate:
                    type: bool

                providers.Google.credentials.key:
                  type: text
                  label: PLUGIN_LOGIN.OAUTH_CLIENT_ID
                  validate:
                    type: string

                providers.Google.credentials.secret:
                  type: text
                  label: PLUGIN_LOGIN.OAUTH_CLIENT_SECRET
                  validate:
                    type: string

            providers.GitHub:
              type: section
              title: PLUGIN_LOGIN.GITHUB

              fields:
                providers.GitHub.enabled:
                  type: toggle
                  label: PLUGIN_LOGIN.OAUTH_PROVIDER_GITHUB
                  highlight: 1
                  default: 0
                  options:
                    1: PLUGIN_ADMIN.ENABLED
                    0: PLUGIN_ADMIN.DISABLED
                  validate:
                    type: bool

                providers.GitHub.credentials.key:
                  type: text
                  label: PLUGIN_LOGIN.OAUTH_CLIENT_ID
                  validate:
                    type: string

                providers.GitHub.credentials.secret:
                  type: text
                  label: PLUGIN_LOGIN.OAUTH_CLIENT_SECRET
                  validate:
                    type: string

            providers.Twitter:
              type: section
              title: PLUGIN_LOGIN.TWITTER

              fields:
                providers.Twitter.enabled:
                  type: toggle
                  label: PLUGIN_LOGIN.OAUTH_PROVIDER_TWITTER
                  highlight: 1
                  default: 0
                  options:
                    1: PLUGIN_ADMIN.ENABLED
                    0: PLUGIN_ADMIN.DISABLED
                  validate:
                    type: bool

                providers.Twitter.credentials.key:
                  type: text
                  label: PLUGIN_LOGIN.OAUTH_CLIENT_ID
                  validate:
                    type: string

                providers.Twitter.credentials.secret:
                  type: text
                  label: PLUGIN_LOGIN.OAUTH_CLIENT_SECRET
                  validate:
                    type: string
